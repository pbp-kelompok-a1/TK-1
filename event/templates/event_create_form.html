{% extends 'base.html' %}
{% load widget_tweaks %}

{% block content %}
<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10">

	<!-- Header -->
	<header class="mb-8 p-6 rounded-xl shadow-lg bg-paraworld-blue text-white">
		<h1 class="text-3xl font-extrabold tracking-tight mb-1">
			Create New Event
		</h1>
		<p class="text-lg opacity-90">
			Share your upcoming ParaWorld tournament or community activity.
		</p>
		<a href="{% url 'event_list' %}"
			class="inline-flex items-center mt-3 text-sm text-white opacity-90 hover:opacity-100 transition duration-150">
			<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
			</svg>
			Back to Events
		</a>
	</header>

	<!-- Form -->
	<div class="bg-white p-8 shadow-2xl rounded-xl">
		<form method="post" class="space-y-6">
			{% csrf_token %}

			<!-- Form Errors -->
			{% if form.non_field_errors %}
				<div class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 border border-red-200" role="alert">
					<p class="font-semibold mb-1">Please fix the following errors:</p>
					{{ form.non_field_errors }}
				</div>
			{% endif %}

			<!-- Form Fields -->
			{% for field in form %}
				<div class="space-y-1">
					<label for="{{ field.id_for_label }}" class="block text-sm font-semibold text-paraworld-dark">
						{{ field.label }}
						{% if field.field.required %}
							<span class="text-red-500">*</span>
						{% endif %}
					</label>

					<!-- This line applies the custom styling via the widget_tweaks 'attr' filter -->
					{{ field|attr:"class:django-input" }}

					{% for error in field.errors %}
						<p class="text-xs text-red-500">{{ error }}</p>
					{% endfor %}

					{% if field.help_text %}
						<p class="text-xs text-gray-500">{{ field.help_text }}</p>
					{% endif %}
				</div>
			{% endfor %}

			<!-- Submit Button -->
			<div class="pt-4">
				<button type="submit"
					class="w-full inline-flex justify-center items-center px-6 py-3 
							text-base font-semibold rounded-lg shadow-sm 
							text-white bg-paraworld-dark hover:bg-gray-800
							focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-paraworld-dark transition duration-150">
					<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
					</svg>
					Submit Event
				</button>
			</div>
		</form>
	</div>
</div>

<!-- Local Styling for Input Fields -->
<style>
	.django-input {
		margin-top: 0.25rem;
		display: block;
		width: 100%;
		border: 1px solid #d1d5db;
		border-radius: 0.375rem;
		box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
		padding: 0.5rem 0.75rem;
		font-size: 0.875rem;
		background-color: #f9fafb;
	}

	.django-input:focus {
		border-color: #82BFDB !important;
		box-shadow: 0 0 0 2px rgba(130, 191, 219, 0.5);
		outline: none;
	}

	textarea.django-input {
		padding: 0.75rem;
		height: 8rem;
	}
</style>
{% endblock %}